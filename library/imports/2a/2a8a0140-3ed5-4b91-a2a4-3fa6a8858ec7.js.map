{"version":3,"sources":["assets/scripts/Main.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport Block from \"./Block\";\nimport Snake from \"./Snake/Snake\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class Main extends cc.Component {\n\n    @property({type:cc.Prefab})\n    bigfruit: cc.Prefab = null;\n\n    @property({type:cc.Prefab})\n    snakePrefab: cc.Prefab = null;\n\n    @property({type:cc.SpriteFrame})\n    bigFruitOrgin_sprite: cc.SpriteFrame = null;\n\n    @property(cc.Node)\n    upArrow: cc.Node = null;\n\n    @property(cc.Node)\n    downArrow: cc.Node = null;\n\n    @property(cc.Node)\n    leftArrow: cc.Node = null;\n\n    @property(cc.Node)\n    rightArrow: cc.Node = null;\n\n    onLoad(){\n        this.GeneratorBigFood(this.bigFruitOrgin_sprite.getTexture());\n        cc.director.getCollisionManager().enabled=true;\n        cc.director.getPhysicsManager().enabled = true;\n\n        this.upArrow.on(cc.Node.EventType.TOUCH_END,()=>{\n            console.log(\"move!!!\");\n            cc.game.emit(\"move_up\",\"up\");\n        },this)\n        this.downArrow.on(cc.Node.EventType.TOUCH_END,()=>{\n            console.log(\"move!!!\");\n            cc.game.emit(\"move_down\",\"down\");\n        },this)\n        this.leftArrow.on(cc.Node.EventType.TOUCH_END,()=>{\n            console.log(\"move!!!\");\n            cc.game.emit(\"move_left\",\"left\");\n        },this)\n        this.rightArrow.on(cc.Node.EventType.TOUCH_END,()=>{\n            console.log(\"move!!!\");\n            cc.game.emit(\"move_right\",\"right\");\n        },this)\n\n        this.GeneratorSnake();\n    }\n\n    GeneratorSnake(){\n        let newSnake = cc.instantiate(this.snakePrefab);\n        newSnake.setParent(this.node);\n        newSnake.setPosition(cc.Vec2.ZERO);\n        //newSnake.getComponent(Snake).initSnake(0);\n\n        newSnake.getComponent(Snake).startMove();\n    }\n\n    GeneratorBigFood(bigFriutSprite){\n        for (let i = 0; i < 2; i++) {\n            for (let j = 0; j < 2; j++) {\n                let newBlock = cc.instantiate(this.bigfruit);\n                newBlock.parent=this.node;\n                newBlock.setPosition(j * newBlock.width*1.2,-i * newBlock.height*1.2);\n                newBlock.getComponent(Block).init(bigFriutSprite,new cc.Vec2(j,i),0);\n            }\n        }\n    }\n\n    GeneratorFood(foodSprite,pos){\n        let newBlock = cc.instantiate(this.bigfruit);\n        newBlock.parent=this.node;\n        newBlock.setPosition(pos.x,pos.y);\n        newBlock.getComponent(Block).init(foodSprite);\n    }\n\n    GeneratorBomb(bombSprite,pos){\n        let newBlock = cc.instantiate(this.bigfruit);\n        newBlock.parent=this.node;\n        newBlock.setPosition(pos.x,pos.y);\n        newBlock.getComponent(Block).init(bombSprite);\n    }\n}\n"]}